% !Mode:: "TeX:UTF-8"
\chapter{科研批量录入文件格式}
\label{projectimportformat}
\pic[H]{科研项目批量录入Excel文件的格式}{width=1.0\textwidth}{pngprojectimportformat.png}
如图~\ref{pngprojectimportformat.png}~所示，这个录入表格表项很多，有以下表项：
\begin{enumerate}
\item 项目名称
\item 经费本编号
\item 是否国际
\item 国家级
\item 省部级
\item 市级
\item 校级
\item 横向
\item 国家自然基金
\item 973
\item 863
\item 科技支撑计划
\item 教育部高校博士点基金
\item 重大专项
\item XX项目
\item 开始时间
\item 截止时间
\item 结题时间
\item 申报时间
\item 立项时间
\item 申报经费
\item 立项经费
\item 实际执行人员1——实际执行人员20
\item 责任书人员1——责任书人员20
\end{enumerate}

\chapter{科研项目管理模块部分源代码}
\section{模型类：Project.php}
\noindent
\ttfamily
\hlstd{}\hllin{\ 1\ }\hlopt{$<$}\hlstd{?php}\\
\hllin{\ 2\ }\\
\hllin{\ 3\ }\hlcom{/{*}{*}}\\
\hllin{\ 4\ }\hlcom{\ {*}\ This\ is\ the\ model\ class\ for\ table\ "tbl\textunderscore project".}\\
\hllin{\ 5\ }\hlcom{\ {*}}\\
\hllin{\ 6\ }\hlcom{\ {*}\ The\ followings\ are\ the\ available\ columns\ in\ table\ }\Righttorque\\
\hllin{\ 7\ }\hlcom{\ 'tbl\textunderscore project':}\\
\hllin{\ 8\ }\hlcom{\ {*}\ @property\ integer\ \$id}\\
\hllin{\ 9\ }\hlcom{\ {*}\ @property\ string\ \$name}\\
\hllin{10\ }\hlcom{\ {*}\ @property\ string\ \$number}\\
\hllin{11\ }\hlcom{\ {*}\ @property\ string\ \$fund\textunderscore number}\\
\hllin{12\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore intl}\\
\hllin{13\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore national}\\
\hllin{14\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore provincial}\\
\hllin{15\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore city}\\
\hllin{16\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore school}\\
\hllin{17\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore enterprise}\\
\hllin{18\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore NSF}\\
\hllin{19\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore 973}\\
\hllin{20\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore 863}\\
\hllin{21\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore NKTRD}\\
\hllin{22\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore DFME}\\
\hllin{23\ }\hlcom{\ {*}\ @property\ integer\ \$is\textunderscore major}\\
\hllin{24\ }\hlcom{\ {*}\ @property\ string\ \$start\textunderscore date}\\
\hllin{25\ }\hlcom{\ {*}\ @property\ string\ \$deadline\textunderscore date}\\
\hllin{26\ }\hlcom{\ {*}\ @property\ string\ \$conclude\textunderscore date}\\
\hllin{27\ }\hlcom{\ {*}\ @property\ string\ \$app\textunderscore date}\\
\hllin{28\ }\hlcom{\ {*}\ @property\ string\ \$pass\textunderscore date}\\
\hllin{29\ }\hlcom{\ {*}\ @property\ string\ \$app\textunderscore fund}\\
\hllin{30\ }\hlcom{\ {*}\ @property\ string\ \$pass\textunderscore fund}\\
\hllin{31\ }\hlcom{\ {*}}\\
\hllin{32\ }\hlcom{\ {*}\ The\ followings\ are\ the\ available\ model\ relations:}\\
\hllin{33\ }\hlcom{\ {*}\ @property\ People{[}{]}\ \$tblPeoples}\\
\hllin{34\ }\hlcom{\ {*}/}\hlstd{}\\
\hllin{35\ }\hlkwa{class\ }\hlstd{Project\ }\hlkwa{extends\ }\hlstd{CActiveRecord}\\
\hllin{36\ }\hlopt{\{}\\
\hllin{37\ }\hlstd{\ \\
\hllin{38\ }\\
\hllin{39\ }\ }\hlkwa{const\ }\hlstd{EXECUTE}\hlopt{=}\hlstd{}\hlnum{0}\hlstd{}\hlopt{;}\\
\hllin{40\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{const\ }\hlstd{LIABILITY}\hlopt{=}\hlstd{}\hlnum{1}\hlstd{}\hlopt{;}\\
\hllin{41\ }\hlstd{\\
\hllin{42\ }\\
\hllin{43\ }\\
\hllin{44\ }}\hlstd{\ \ \ \ }\hlstd{}\hlcom{/{*}{*}}\\
\hllin{45\ }\hlcom{}\hlstd{\ \ \ \ \ }\hlcom{{*}@var\ array()\ of\ people\ id}\\
\hllin{46\ }\hlcom{}\hlstd{\ \ \ \ }\hlcom{{*}/}\hlstd{\\
\hllin{47\ }\ }\hlkwa{public\ }\hlstd{}\hlkwc{\$executePeoples}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();}\\
\hllin{48\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ }\hlstd{}\hlkwc{\$liabilityPeoples}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();\ }\hlstd{}\hlslc{//must\ be\ different\ }\Righttorque\\
\hllin{49\ }\hlslc{}\hlstd{\ \ \ \ }\hlslc{from\ the\ relation\ name!}\\
\hllin{50\ }\hlstd{\\
\hllin{51\ }\\
\hllin{52\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ }\hlstd{}\hlkwc{\$searchExecutePeople}\hlstd{}\hlopt{=}\hlstd{null}\hlopt{;}\\
\hllin{53\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ }\hlstd{}\hlkwc{\$searchLiabilityPeople}\hlstd{}\hlopt{=}\hlstd{null}\hlopt{;}\\
\hllin{54\ }\hlstd{\\
\hllin{55\ }\ }\hlcom{/{*}{*}}\\
\hllin{56\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ string\ the\ associated\ database\ table\ name}\\
\hllin{57\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{58\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{tableName}\hlstd{}\hlopt{()}\\
\hllin{59\ }\hlstd{\ }\hlopt{\{}\\
\hllin{60\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlstr{'tbl\textunderscore project'}\hlstd{}\hlopt{;}\\
\hllin{61\ }\hlstd{\ }\hlopt{\}}\\
\hllin{62\ }\hlstd{\\
\hllin{63\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{getLevelList}\hlstd{}\hlopt{()\{}\\
\hllin{64\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ array}\hlstd{}\hlopt{();}\\
\hllin{65\ }\hlstd{\ }\hlopt{\}}\\
\hllin{66\ }\hlstd{\\
\hllin{67\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{getTypeString}\hlstd{}\hlopt{()\{}\\
\hllin{68\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ array}\hlstd{}\hlopt{();}\\
\hllin{69\ }\hlstd{\ }\hlopt{\}}\\
\hllin{70\ }\hlstd{\\
\hllin{71\ }\ }\hlcom{/{*}{*}}\\
\hllin{72\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ array\ validation\ rules\ for\ model\ attributes.}\\
\hllin{73\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{74\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{rules}\hlstd{}\hlopt{()}\\
\hllin{75\ }\hlstd{\ }\hlopt{\{}\\
\hllin{76\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ array}\hlstd{}\hlopt{(}\\
\hllin{77\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'name'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'required'}\hlstd{}\hlopt{),}\\
\hllin{78\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore intl,\ is\textunderscore national,\ is\textunderscore provincial,\ is\textunderscore city,\ }\Righttorque\\
\hllin{79\ }\hlstr{}\hlstd{\ \ \ }\hlstr{is\textunderscore school,\ is\textunderscore enterprise,\ is\textunderscore NSF,\ is\textunderscore 973,\ is\textunderscore 863,\ }\Righttorque\\
\hllin{80\ }\hlstr{}\hlstd{\ \ \ }\hlstr{is\textunderscore NKTRD,\ is\textunderscore DFME,\ is\textunderscore major'}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'numerical'}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'integerOnly'}\hlstd{}\hlopt{=$>$}\Righttorque\\
\hllin{81\ }\hlstd{}\hlstd{\ \ \ }\hlstd{true}\hlopt{),}\\
\hllin{82\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'name,\ number,\ fund\textunderscore number'}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'length'}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'max'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlnum{255}\hlstd{}\hlopt{),}\\
\hllin{83\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'app\textunderscore fund,\ pass\textunderscore fund'}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'length'}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'max'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlnum{15}\hlstd{}\hlopt{),}\\
\hllin{84\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'start\textunderscore date,\ deadline\textunderscore date,\ conclude\textunderscore date,\ app\textunderscore date,}\Righttorque\\
\hllin{85\ }\hlstr{}\hlstd{\ \ \ }\hlstr{pass\textunderscore date'}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'safe'}\hlstd{}\hlopt{),}\\
\hllin{86\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'id,\ name,\ number,\ fund\textunderscore number,\ is\textunderscore intl,\ }\Righttorque\\
\hllin{87\ }\hlstr{}\hlstd{\ \ \ }\hlstr{is\textunderscore national,\ is\textunderscore provincial,\ is\textunderscore city,\ is\textunderscore school,\ }\Righttorque\\
\hllin{88\ }\hlstr{}\hlstd{\ \ \ }\hlstr{is\textunderscore enterprise,\ is\textunderscore NSF,\ is\textunderscore 973,\ is\textunderscore 863,\ is\textunderscore NKTRD,\ is\textunderscore DFME,\ }\Righttorque\\
\hllin{89\ }\hlstr{}\hlstd{\ \ \ }\hlstr{is\textunderscore major,\ start\textunderscore date,\ deadline\textunderscore date,\ conclude\textunderscore date,\ }\Righttorque\\
\hllin{90\ }\hlstr{}\hlstd{\ \ \ }\hlstr{app\textunderscore date,\ pass\textunderscore date,\ app\textunderscore fund,\ pass\textunderscore fund,\ '}\hlstd{}\hlopt{,\ }\hlstd{}\hlstr{'safe'}\hlstd{}\hlopt{,\ }\Righttorque\\
\hllin{91\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'on'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlstr{'search'}\hlstd{}\hlopt{),}\\
\hllin{92\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{);}\\
\hllin{93\ }\hlstd{\ }\hlopt{\}}\\
\hllin{94\ }\hlstd{\\
\hllin{95\ }\ }\hlcom{/{*}{*}}\\
\hllin{96\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ array\ relational\ rules.}\\
\hllin{97\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{98\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{relations}\hlstd{}\hlopt{()}\\
\hllin{99\ }\hlstd{\ }\hlopt{\{}\\
\hllin{100\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlslc{//\ NOTE:\ you\ may\ need\ to\ adjust\ the\ relation\ name\ and\ the\ }\Righttorque\\
\hllin{101\ }\hlslc{}\hlstd{\ \ }\hlslc{related}\\
\hllin{102\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlslc{//\ class\ name\ for\ the\ relations\ automatically\ generated\ }\Righttorque\\
\hllin{103\ }\hlslc{}\hlstd{\ \ }\hlslc{below.}\\
\hllin{104\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlcom{/{*}}\\
\hllin{105\ }\hlcom{}\hlstd{\ \ \ }\hlcom{must\ add\ an\ alias\ to\ disambiguate\ col\ names\ in\ the\ order\ }\Righttorque\\
\hllin{106\ }\hlcom{}\hlstd{\ \ \ }\hlcom{clause,}\\
\hllin{107\ }\hlcom{}\hlstd{\ \ \ }\hlcom{can't\ disambiguate\ without\ alias:}\\
\hllin{108\ }\hlcom{}\hlstd{\ \ \ }\hlcom{$<$WRONG\textunderscore CODE$>$}\\
\hllin{109\ }\hlcom{}\hlstd{\ \ \ \ }\hlcom{...}\\
\hllin{110\ }\hlcom{}\hlstd{\ \ \ \ }\hlcom{'execute\textunderscore peoples'\ =$>$\ array(}\\
\hllin{111\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{self::MANY\textunderscore MANY,\ }\\
\hllin{112\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{'People',\ }\\
\hllin{113\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{'tbl\textunderscore project\textunderscore people\textunderscore execute(project\textunderscore id,\ }\Righttorque\\
\hllin{114\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{people\textunderscore id)',}\\
\hllin{115\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{'order'=$>$'execute\textunderscore peoples.seq',}\\
\hllin{116\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{),}\\
\hllin{117\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{...}\\
\hllin{118\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{$<$WRONG\textunderscore CODE/$>$}\\
\hllin{119\ }\hlcom{}\\
\hllin{120\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{seems\ a\ bug\ in\ the\ Yii\ framework,\ alias\ seemd\ to\ }\Righttorque\\
\hllin{121\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{be\ concated\ with\ }\\
\hllin{122\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{relationName\ in\ the\ SQL\ JOIN(instead\ of\ }\Righttorque\\
\hllin{123\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{replacing\ it):}\\
\hllin{124\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{eg:}\\
\hllin{125\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{if\ not\ specifying\ alias,\ the\ above\ WRONG\ code\ }\Righttorque\\
\hllin{126\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{would\ render\ SQL\ like:}\\
\hllin{127\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{LEFT\ OUTER\ JOIN\ `tbl\textunderscore project\textunderscore people\textunderscore execute`\ }\Righttorque\\
\hllin{128\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{`execute\textunderscore peoples\textunderscore execute\textunderscore peoples`\ }\\
\hllin{129\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{ON\ (`t`.}\Righttorque\\
\hllin{130\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{`id`=`execute\textunderscore peoples\textunderscore execute\textunderscore peoples`.}\Righttorque\\
\hllin{131\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{`project\textunderscore id`)}\\
\hllin{132\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{which\ makes\ it\ not\ possible\ to\ disambiguate\ col\ }\Righttorque\\
\hllin{133\ }\hlcom{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlcom{names\ in\ order\ clause}\\
\hllin{134\ }\hlcom{}\\
\hllin{135\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{136\ }}\hlstd{\ \ }\hlstd{}\hlkwa{return\ array}\hlstd{}\hlopt{(}\\
\hllin{137\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'liability\textunderscore peoples'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{138\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{self}\hlopt{::}\hlstd{MANY\textunderscore MANY}\hlopt{,\ }\\
\hllin{139\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'People'}\hlstd{}\hlopt{,\ }\\
\hllin{140\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'tbl\textunderscore project\textunderscore people\textunderscore liability(project\textunderscore id,\ people\textunderscore id)'}\hlstd{}\hlopt{,}\\
\hllin{141\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'order'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlstr{'liability\textunderscore peoples\textunderscore liability\textunderscore .seq'}\hlstd{}\hlopt{,}\\
\hllin{142\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'alias'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlstr{'liability\textunderscore '}\hlstd{\\
\hllin{143\ }}\hlstd{\ \ \ }\hlstd{}\hlopt{),}\\
\hllin{144\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'execute\textunderscore peoples'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{145\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{self}\hlopt{::}\hlstd{MANY\textunderscore MANY}\hlopt{,\ }\\
\hllin{146\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'People'}\hlstd{}\hlopt{,\ }\\
\hllin{147\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'tbl\textunderscore project\textunderscore people\textunderscore execute(project\textunderscore id,\ }\Righttorque\\
\hllin{148\ }\hlstr{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstr{people\textunderscore id)'}\hlstd{}\hlopt{,}\\
\hllin{149\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'order'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlstr{'execute\textunderscore peoples\textunderscore execute\textunderscore .seq'}\hlstd{}\hlopt{,}\\
\hllin{150\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'alias'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlstr{'execute\textunderscore '}\hlstd{\\
\hllin{151\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{),}\\
\hllin{152\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{);}\\
\hllin{153\ }\hlstd{\\
\hllin{154\ }\ }\hlopt{\}}\\
\hllin{155\ }\hlstd{\\
\hllin{156\ }\ }\hlcom{/{*}{*}}\\
\hllin{157\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ array\ customized\ attribute\ labels\ (name=$>$label)}\\
\hllin{158\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{159\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{attributeLabels}\hlstd{}\hlopt{()}\\
\hllin{160\ }\hlstd{\ }\hlopt{\{}\\
\hllin{161\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ array}\hlstd{}\hlopt{(}\\
\hllin{162\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'id'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'ID'}\hlstd{}\hlopt{,}\\
\hllin{163\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'name'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'项目名称'}\hlstd{}\hlopt{,}\\
\hllin{164\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'number'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'编号'}\hlstd{}\hlopt{,}\\
\hllin{165\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'fund\textunderscore number'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'经费本编号'}\hlstd{}\hlopt{,}\\
\hllin{166\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore intl'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'国际'}\hlstd{}\hlopt{,}\\
\hllin{167\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore national'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'国家级'}\hlstd{}\hlopt{,}\\
\hllin{168\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore provincial'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'省部级'}\hlstd{}\hlopt{,}\\
\hllin{169\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore city'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'市级'}\hlstd{}\hlopt{,}\\
\hllin{170\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore school'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'校级'}\hlstd{}\hlopt{,}\\
\hllin{171\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore enterprise'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'横向'}\hlstd{}\hlopt{,}\\
\hllin{172\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore NSF'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'国家自然基金'}\hlstd{}\hlopt{,}\\
\hllin{173\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore 973'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'973'}\hlstd{}\hlopt{,}\\
\hllin{174\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore 863'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'863'}\hlstd{}\hlopt{,}\\
\hllin{175\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore NKTRD'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'科技支撑计划'}\hlstd{}\hlopt{,}\\
\hllin{176\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore DFME'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'教育部高校博士点基金'}\hlstd{}\hlopt{,}\\
\hllin{177\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'is\textunderscore major'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'重大专项'}\hlstd{}\hlopt{,}\\
\hllin{178\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'start\textunderscore date'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'开始时间'}\hlstd{}\hlopt{,}\\
\hllin{179\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'deadline\textunderscore date'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'截至时间'}\hlstd{}\hlopt{,}\\
\hllin{180\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'conclude\textunderscore date'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'结题时间'}\hlstd{}\hlopt{,}\\
\hllin{181\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'app\textunderscore date'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'申报时间'}\hlstd{}\hlopt{,}\\
\hllin{182\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'pass\textunderscore date'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'立项时间'}\hlstd{}\hlopt{,}\\
\hllin{183\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'app\textunderscore fund'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'申报经费'}\hlstd{}\hlopt{,}\\
\hllin{184\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'pass\textunderscore fund'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'立项经费'}\hlstd{}\hlopt{,}\\
\hllin{185\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'execute\textunderscore peoples'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'实际执行人员'}\hlstd{}\hlopt{,}\\
\hllin{186\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'liability\textunderscore peoples'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{}\hlstr{'项目书人员'}\hlstd{}\hlopt{,}\\
\hllin{187\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{);}\\
\hllin{188\ }\hlstd{\ }\hlopt{\}}\\
\hllin{189\ }\hlstd{\\
\hllin{190\ }\ }\hlcom{/{*}{*}}\\
\hllin{191\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Retrieves\ a\ list\ of\ models\ based\ on\ the\ current\ }\Righttorque\\
\hllin{192\ }\hlcom{}\hlstd{\ \ }\hlcom{search/filter\ conditions.}\\
\hllin{193\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}}\\
\hllin{194\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Typical\ usecase:}\\
\hllin{195\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ {-}\ Initialize\ the\ model\ fields\ with\ values\ from\ filter\ }\Righttorque\\
\hllin{196\ }\hlcom{}\hlstd{\ \ }\hlcom{form.}\\
\hllin{197\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ {-}\ Execute\ this\ method\ to\ get\ CActiveDataProvider\ }\Righttorque\\
\hllin{198\ }\hlcom{}\hlstd{\ \ }\hlcom{instance\ which\ will\ filter}\\
\hllin{199\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ models\ according\ to\ data\ in\ model\ fields.}\\
\hllin{200\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ {-}\ Pass\ data\ provider\ to\ CGridView,\ CListView\ or\ any\ }\Righttorque\\
\hllin{201\ }\hlcom{}\hlstd{\ \ }\hlcom{similar\ widget.}\\
\hllin{202\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}}\\
\hllin{203\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ CActiveDataProvider\ the\ data\ provider\ that\ can\ }\Righttorque\\
\hllin{204\ }\hlcom{}\hlstd{\ \ }\hlcom{return\ the\ models}\\
\hllin{205\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ based\ on\ the\ search/filter\ conditions.}\\
\hllin{206\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{207\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{search}\hlstd{}\hlopt{()}\\
\hllin{208\ }\hlstd{\ }\hlopt{\{}\\
\hllin{209\ }\hlstd{\\
\hllin{210\ }}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{new\ }\hlstd{CDbCriteria}\hlopt{;}\\
\hllin{211\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{with}\hlopt{=}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{212\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'execute\textunderscore peoples'}\hlstd{}\hlopt{,}\\
\hllin{213\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'liability\textunderscore peoples'}\hlstd{\\
\hllin{214\ }}\hlstd{\ \ }\hlstd{}\hlopt{);}\\
\hllin{215\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{together}\hlopt{=}\hlstd{true}\hlopt{;}\\
\hllin{216\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{group\ }\hlopt{=\ }\hlstd{}\hlstr{'t.id'}\hlstd{}\hlopt{;}\\
\hllin{217\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'execute\textunderscore peoples.id'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\Righttorque\\
\hllin{218\ }\hlstd{}\hlstd{\ \ }\hlstd{searchExecutePeople}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{219\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'liability\textunderscore peoples.id'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\Righttorque\\
\hllin{220\ }\hlstd{}\hlstd{\ \ }\hlstd{searchLiabilityPeople}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{221\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'name'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{name}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{222\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'number'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{number}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{223\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'fund\textunderscore number'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{fund\textunderscore number}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{224\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore intl'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore intl}\hlopt{);}\\
\hllin{225\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore national'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore national}\hlopt{);}\\
\hllin{226\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore provincial'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore provincial}\hlopt{);}\\
\hllin{227\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore city'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore city}\hlopt{);}\\
\hllin{228\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore school'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore school}\hlopt{);}\\
\hllin{229\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore enterprise'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore enterprise}\hlopt{);}\\
\hllin{230\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore NSF'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NSF}\hlopt{);}\\
\hllin{231\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore 973'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 973}\hlopt{);}\\
\hllin{232\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore 863'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 863}\hlopt{);}\\
\hllin{233\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore NKTRD'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NKTRD}\hlopt{);}\\
\hllin{234\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore DFME'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore DFME}\hlopt{);}\\
\hllin{235\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore major'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore major}\hlopt{);}\\
\hllin{236\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'start\textunderscore date'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{start\textunderscore date}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{237\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'deadline\textunderscore date'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{deadline\textunderscore date}\hlopt{,}\Righttorque\\
\hllin{238\ }\hlstd{}\hlstd{\ \ }\hlstd{true}\hlopt{);}\\
\hllin{239\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'conclude\textunderscore date'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{conclude\textunderscore date}\hlopt{,}\Righttorque\\
\hllin{240\ }\hlstd{}\hlstd{\ \ }\hlstd{true}\hlopt{);}\\
\hllin{241\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'app\textunderscore date'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{app\textunderscore date}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{242\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'pass\textunderscore date'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{pass\textunderscore date}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{243\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'app\textunderscore fund'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{app\textunderscore fund}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{244\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{compare}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'pass\textunderscore fund'}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{pass\textunderscore fund}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{245\ }\hlstd{\\
\hllin{246\ }}\hlstd{\ \ }\hlstd{}\hlkwa{return\ new\ }\hlstd{}\hlkwd{CActiveDataProvider}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{,\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{247\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'criteria'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{,}\\
\hllin{248\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{));}\\
\hllin{249\ }\hlstd{\ }\hlopt{\}}\\
\hllin{250\ }\hlstd{\\
\hllin{251\ }\ \\
\hllin{252\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{getLevelString}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{=}\hlstd{}\hlstr{',\ '}\hlstd{}\hlopt{)\{}\\
\hllin{253\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$levels\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();}\\
\hllin{254\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$attrs\ }\hlstd{}\hlopt{=\ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{attributeLabels}\hlstd{}\hlopt{();}\\
\hllin{255\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore intl}\hlopt{)\{}\\
\hllin{256\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore intl'}\hlstd{}\hlopt{{]});}\\
\hllin{257\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{258\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore national}\hlopt{)\{}\\
\hllin{259\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore national'}\hlstd{}\hlopt{{]});}\\
\hllin{260\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{261\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore provincial}\hlopt{)\{}\\
\hllin{262\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore provincial'}\hlstd{}\hlopt{{]});}\\
\hllin{263\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{264\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore city}\hlopt{)\{}\\
\hllin{265\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore city'}\hlstd{}\hlopt{{]});}\\
\hllin{266\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{267\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore school}\hlopt{)\{}\\
\hllin{268\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore school'}\hlstd{}\hlopt{{]});}\\
\hllin{269\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{270\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore enterprise}\hlopt{)\{}\\
\hllin{271\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore enterprise'}\hlstd{}\hlopt{{]});}\\
\hllin{272\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{273\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NSF}\hlopt{)\{}\\
\hllin{274\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore NSF'}\hlstd{}\hlopt{{]});}\\
\hllin{275\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{276\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 973}\hlopt{)\{}\\
\hllin{277\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore 973'}\hlstd{}\hlopt{{]});}\\
\hllin{278\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{279\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 863}\hlopt{)\{}\\
\hllin{280\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore 863'}\hlstd{}\hlopt{{]});}\\
\hllin{281\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{282\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NKTRD}\hlopt{)\{}\\
\hllin{283\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore NKTRD'}\hlstd{}\hlopt{{]});}\\
\hllin{284\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{285\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore DFME}\hlopt{)\{}\\
\hllin{286\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore DFME'}\hlstd{}\hlopt{{]});}\\
\hllin{287\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{288\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore major}\hlopt{)\{}\\
\hllin{289\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attrs}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'is\textunderscore major'}\hlstd{}\hlopt{{]});}\\
\hllin{290\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{291\ }\hlstd{\\
\hllin{292\ }\\
\hllin{293\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlkwd{implode}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$levels}\hlstd{}\hlopt{);}\\
\hllin{294\ }\hlstd{\\
\hllin{295\ }}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{296\ }\hlstd{\\
\hllin{297\ }\\
\hllin{298\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{getPeoples}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$type}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{=}\hlstd{}\hlstr{',\ '}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'name'}\hlstd{}\hlopt{)}\Righttorque\\
\hllin{299\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\{}\\
\hllin{300\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwc{\$peoplesArr\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();}\\
\hllin{301\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{switch\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$type}\hlstd{}\hlopt{)\ \{}\\
\hllin{302\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{:}\\
\hllin{303\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleRecords}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{execute\textunderscore peoples}\hlopt{;}\\
\hllin{304\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{305\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{:}\\
\hllin{306\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleRecords}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{liability\textunderscore peoples}\hlopt{;}\\
\hllin{307\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{308\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlkwa{default}\hlstd{}\hlopt{:}\\
\hllin{309\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleRecords}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{execute\textunderscore peoples}\hlopt{;}\\
\hllin{310\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{311\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{312\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{foreach\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$peopleRecords\ }\hlstd{}\hlkwa{as\ }\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{)\ \{}\\
\hllin{313\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$peoplesArr}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{);}\\
\hllin{314\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{315\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlkwd{implode}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$peoplesArr}\hlstd{}\hlopt{);}\\
\hllin{316\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{317\ }\hlstd{\\
\hllin{318\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{getExecutePeoples}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{=}\hlstd{}\hlstr{',\ '}\hlstd{}\hlopt{,}\Righttorque\\
\hllin{319\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'name'}\hlstd{}\hlopt{)\ \{}\\
\hllin{320\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{getPeoples}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{,}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{);}\\
\hllin{321\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{322\ }\hlstd{\\
\hllin{323\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{getLiabilityPeoples}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{=}\hlstd{}\hlstr{',\ '}\hlstd{}\hlopt{,}\Righttorque\\
\hllin{324\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'name'}\hlstd{}\hlopt{)\ \{}\\
\hllin{325\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{getPeoples}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{,}\hlstd{}\hlkwc{\$glue}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{);}\\
\hllin{326\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{327\ }\hlstd{\\
\hllin{328\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{getExecutePeoplesJsArray}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'id'}\hlstd{}\hlopt{)\ \{}\\
\hllin{329\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwc{\$executePeoples\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();}\\
\hllin{330\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{foreach\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{execute\textunderscore peoples\ }\hlkwa{as\ }\hlstd{}\hlkwc{\$executePeople}\hlstd{}\hlopt{)\ \{}\\
\hllin{331\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$executePeoples}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'"'}\hlstd{}\hlopt{.}\hlstd{}\hlkwc{\$executePeople}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{.}\Righttorque\\
\hllin{332\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlstr{'"'}\hlstd{}\hlopt{);}\\
\hllin{333\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{334\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlkwd{implode}\hlstd{}\hlopt{(}\hlstd{}\hlstr{',\ '}\hlstd{}\hlopt{,\ }\hlstd{}\hlkwc{\$executePeoples}\hlstd{}\hlopt{);}\\
\hllin{335\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{336\ }\hlstd{\\
\hllin{337\ }\\
\hllin{338\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{getLiabilityPeoplesJsArray}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'id'}\hlstd{}\hlopt{)\ \{}\\
\hllin{339\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwc{\$executePeoples\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();}\\
\hllin{340\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{foreach\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{liability\textunderscore peoples\ }\hlkwa{as\ }\hlstd{}\hlkwc{\$executePeople}\hlstd{}\hlopt{)\ \{}\\
\hllin{341\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore push}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$executePeoples}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'"'}\hlstd{}\hlopt{.}\hlstd{}\hlkwc{\$executePeople}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwc{\$attr}\hlstd{}\hlopt{.}\Righttorque\\
\hllin{342\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlstr{'"'}\hlstd{}\hlopt{);}\\
\hllin{343\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{344\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlkwd{implode}\hlstd{}\hlopt{(}\hlstd{}\hlstr{',\ '}\hlstd{}\hlopt{,\ }\hlstd{}\hlkwc{\$executePeoples}\hlstd{}\hlopt{);}\\
\hllin{345\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{346\ }\hlstd{\\
\hllin{347\ }\ }\hlcom{/{*}{*}}\\
\hllin{348\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Returns\ the\ static\ model\ of\ the\ specified\ AR\ class.}\\
\hllin{349\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Please\ note\ that\ you\ should\ have\ this\ exact\ method\ in\ }\Righttorque\\
\hllin{350\ }\hlcom{}\hlstd{\ \ }\hlcom{all\ your\ CActiveRecord\ descendants!}\\
\hllin{351\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @param\ string\ \$className\ active\ record\ class\ name.}\\
\hllin{352\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ Project\ the\ static\ model\ class}\\
\hllin{353\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{354\ }\ }\hlkwa{public\ static\ function\ }\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$className}\hlstd{}\hlopt{=}\hlstd{\textunderscore \textunderscore CLASS\textunderscore \textunderscore }\hlopt{)}\\
\hllin{355\ }\hlstd{\ }\hlopt{\{}\\
\hllin{356\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ }\hlstd{parent}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$className}\hlstd{}\hlopt{);}\\
\hllin{357\ }\hlstd{\ }\hlopt{\}}\\
\hllin{358\ }\hlstd{\\
\hllin{359\ }\ \\
\hllin{360\ }\ }\hlkwa{protected\ function\ }\hlstd{}\hlkwd{beforeSave}\hlstd{}\hlopt{()}\\
\hllin{361\ }\hlstd{\ }\hlopt{\{}\\
\hllin{362\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{if\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{pass\textunderscore date}\hlopt{==}\hlstd{}\hlstr{''}\hlstd{}\hlopt{)}\\
\hllin{363\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{pass\textunderscore date}\hlopt{=}\hlstd{null}\hlopt{;}\\
\hllin{364\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{app\textunderscore date}\hlopt{==}\hlstd{}\hlstr{''}\hlstd{}\hlopt{)}\\
\hllin{365\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{app\textunderscore date}\hlopt{=}\hlstd{null}\hlopt{;}\\
\hllin{366\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{conclude\textunderscore date}\hlopt{==}\hlstd{}\hlstr{''}\hlstd{}\hlopt{)}\\
\hllin{367\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{conclude\textunderscore date}\hlopt{=}\hlstd{null}\hlopt{;}\\
\hllin{368\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{scenario}\hlopt{==}\hlstd{}\hlstr{'update'}\hlstd{}\hlopt{)\ \{}\\
\hllin{369\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{deleteProjectPeople}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{)\ \&\&\ }\hlstd{self}\hlopt{::}\Righttorque\\
\hllin{370\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwd{deleteProjectPeople}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{))\{}\\
\hllin{371\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{parent}\hlopt{::}\hlstd{}\hlkwd{beforeSave}\hlstd{}\hlopt{();}\\
\hllin{372\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}\ }\hlstd{}\hlkwa{else\ }\hlstd{}\hlopt{\{}\\
\hllin{373\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{false}\hlopt{;}\\
\hllin{374\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{375\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\}}\\
\hllin{376\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ }\hlstd{parent}\hlopt{::}\hlstd{}\hlkwd{beforeSave}\hlstd{}\hlopt{();}\\
\hllin{377\ }\hlstd{\ }\hlopt{\}}\\
\hllin{378\ }\hlstd{\\
\hllin{379\ }\ }\hlkwa{protected\ function\ }\hlstd{}\hlkwd{afterSave}\hlstd{}\hlopt{()\ \{}\\
\hllin{380\ }\hlstd{}\hlstd{\ \ }\hlstd{\\
\hllin{381\ }}\hlstd{\ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{populateProjectPeople}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{)\ \&\&\ }\Righttorque\\
\hllin{382\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{populateProjectPeople}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{))\ \{}\\
\hllin{383\ }\hlstd{\\
\hllin{384\ }}\hlstd{\ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\hlstd{\ \ }\hlopt{}\\
\hllin{385\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{else\ }\hlstd{}\hlopt{\{}\\
\hllin{386\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{false}\hlopt{;}\\
\hllin{387\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{388\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{\\
\hllin{389\ }}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{parent}\hlopt{::}\hlstd{}\hlkwd{afterSave}\hlstd{}\hlopt{();}\\
\hllin{390\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{391\ }\hlstd{\\
\hllin{392\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{private\ function\ }\hlstd{}\hlkwd{deleteProjectPeople}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$type}\hlstd{}\hlopt{)\ \{}\\
\hllin{393\ }\hlstd{}\hlstd{\ \ \ \ \ \ }\hlstd{}\hlkwc{\$criteria\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\hlstd{CDbCriteria}\hlopt{;}\\
\hllin{394\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{condition\ }\hlopt{=\ }\hlstd{}\hlstr{'project\textunderscore id=:project\textunderscore id'}\hlstd{}\hlopt{;}\\
\hllin{395\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{params\ }\hlopt{=\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{':project\textunderscore id'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{);}\\
\hllin{396\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{\\
\hllin{397\ }\\
\hllin{398\ }}\hlstd{\ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{switch\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$type}\hlstd{}\hlopt{)\ \{}\\
\hllin{399\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{:}\\
\hllin{400\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{ProjectPeopleExecute}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{deleteAll}\hlstd{}\hlopt{(}\Righttorque\\
\hllin{401\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{);}\\
\hllin{402\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{403\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{\\
\hllin{404\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{:}\\
\hllin{405\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{ProjectPeopleLiability}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{deleteAll}\hlstd{}\hlopt{(}\Righttorque\\
\hllin{406\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{);}\\
\hllin{407\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{408\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{default}\hlstd{}\hlopt{:}\\
\hllin{409\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{ProjectPeopleExecute}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(){-}$>$}\Righttorque\\
\hllin{410\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{deleteAll}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{);}\\
\hllin{411\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{412\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{413\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{true}\hlopt{;}\\
\hllin{414\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{415\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{private\ function\ }\hlstd{}\hlkwd{populateProjectPeople}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$type}\hlstd{}\hlopt{)}\\
\hllin{416\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\{}\\
\hllin{417\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{switch\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$type}\hlstd{}\hlopt{)\ \{}\\
\hllin{418\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{:}\\
\hllin{419\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{executePeoples}\hlopt{;}\\
\hllin{420\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{421\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{\\
\hllin{422\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{:}\\
\hllin{423\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{liabilityPeoples}\hlopt{;}\\
\hllin{424\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{425\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{default}\hlstd{}\hlopt{:}\\
\hllin{426\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{executePeoples}\hlopt{;}\\
\hllin{427\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{428\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{429\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{for}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{=}\hlstd{}\hlnum{0}\hlstd{}\hlopt{;}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{$<$}\hlstd{}\hlkwd{count}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{);}\hlstd{}\hlkwc{\$i}\hlstd{++}\hlopt{)\ \{}\\
\hllin{430\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{{[}}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{{]}!=}\hlstd{null\ }\hlopt{\&\&\ }\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{{[}}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{{]}!=}\hlstd{}\hlnum{0}\hlstd{}\hlopt{)\ \{}\\
\hllin{431\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{switch\ }\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$type}\hlstd{}\hlopt{)\ \{}\\
\hllin{432\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{:}\\
\hllin{433\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$projectPeople\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\Righttorque\\
\hllin{434\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{ProjectPeopleExecute}\hlopt{;}\\
\hllin{435\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{436\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{case\ }\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{:}\\
\hllin{437\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$projectPeople\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\Righttorque\\
\hllin{438\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{ProjectPeopleLiability}\hlopt{;}\\
\hllin{439\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{440\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{default}\hlstd{}\hlopt{:}\\
\hllin{441\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$projectPeople\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\Righttorque\\
\hllin{442\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{ProjectPeopleExecute}\hlopt{;}\\
\hllin{443\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{break}\hlstd{}\hlopt{;}\\
\hllin{444\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{445\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{\\
\hllin{446\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$projectPeople}\hlstd{}\hlopt{{-}$>$}\hlstd{seq\ }\hlopt{=\ }\hlstd{}\hlkwc{\$i}\hlstd{+}\hlnum{1}\hlstd{}\hlopt{;}\\
\hllin{447\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$projectPeople}\hlstd{}\hlopt{{-}$>$}\hlstd{project\textunderscore id}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{;}\\
\hllin{448\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$projectPeople}\hlstd{}\hlopt{{-}$>$}\hlstd{people\textunderscore id}\hlopt{=}\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{{[}}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{{]};}\\
\hllin{449\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//echo\ \$projectPeople{-}$>$project\textunderscore id."\ ".}\Righttorque\\
\hllin{450\ }\hlslc{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlslc{\$projectPeople{-}$>$people\textunderscore id."$<$br$>$";}\\
\hllin{451\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$projectPeople}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{save}\hlstd{}\hlopt{())\ \{}\\
\hllin{452\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{yii}\hlopt{::}\hlstd{}\hlkwd{trace}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"peoples{[}i{]}:"}\hlstd{}\hlopt{.}\hlstd{}\hlkwc{\$peoples}\hlstd{}\hlopt{{[}}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{{]}.}\hlstd{}\hlstr{"\ }\Righttorque\\
\hllin{453\ }\hlstr{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstr{saved"}\hlstd{}\hlopt{,}\hlstd{}\hlstr{"Project.populateProjectPeople()"}\hlstd{}\hlopt{)}\Righttorque\\
\hllin{454\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{;}\\
\hllin{455\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}\ }\hlstd{}\hlkwa{else\ }\hlstd{}\hlopt{\{}\\
\hllin{456\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{false}\hlopt{;}\\
\hllin{457\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{458\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{459\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{460\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{true}\hlopt{;}\\
\hllin{461\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{462\ }\hlstd{\\
\hllin{463\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{protected\ function\ }\hlstd{}\hlkwd{afterDelete}\hlstd{}\hlopt{()\ \{}\\
\hllin{464\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{deleteProjectPeople}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{EXECUTE}\hlopt{)\ \&\&\ }\hlstd{self}\hlopt{::}\Righttorque\\
\hllin{465\ }\hlstd{}\hlstd{\ \ \ \ \ }\hlstd{}\hlkwd{deleteProjectPeople}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{LIABILITY}\hlopt{))\{}\\
\hllin{466\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{parent}\hlopt{::}\hlstd{}\hlkwd{afterDelete}\hlstd{}\hlopt{();}\\
\hllin{467\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\}\ }\hlstd{}\hlkwa{else\ }\hlstd{}\hlopt{\{}\\
\hllin{468\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{false}\hlopt{;}\\
\hllin{469\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\}}\\
\hllin{470\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{471\ }\hlstd{}\hlopt{\}}\hlstd{}\\
\mbox{}
\normalfont
\normalsize

\section{控制器类：ProjectController.php}
\noindent
\ttfamily
\hlstd{}\hllin{\ 1\ }\hlopt{$<$}\hlstd{?php\\
\hllin{\ 2\ }Yii}\hlopt{::}\hlstd{}\hlkwd{import}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'application.vendor.{*}'}\hlstd{}\hlopt{);}\\
\hllin{\ 3\ }\hlstd{}\hlkwa{require\textunderscore once}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'password\textunderscore compat/password\textunderscore compat.php'}\hlstd{}\hlopt{);}\\
\hllin{\ 4\ }\hlstd{}\hlkwa{require\textunderscore once}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'PHPExcel/PHPExcel.php'}\hlstd{}\hlopt{);}\\
\hllin{\ 5\ }\hlstd{}\hlkwa{class\ }\hlstd{ProjectController\ }\hlkwa{extends\ }\hlstd{Controller}\\
\hllin{\ 6\ }\hlopt{\{}\\
\hllin{\ 7\ }\hlstd{\ }\hlcom{/{*}{*}}\\
\hllin{\ 8\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @var\ string\ the\ default\ layout\ for\ the\ views.\ Defaults\ }\Righttorque\\
\hllin{\ 9\ }\hlcom{}\hlstd{\ \ }\hlcom{to\ '//layouts/column2',\ meaning}\\
\hllin{10\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ using\ two{-}column\ layout.\ See\ }\Righttorque\\
\hllin{11\ }\hlcom{}\hlstd{\ \ }\hlcom{'protected/views/layouts/column2.php'.}\\
\hllin{12\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{13\ }\ }\hlkwa{public\ }\hlstd{}\hlkwc{\$layout}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'//layouts/column2'}\hlstd{}\hlopt{;}\\
\hllin{14\ }\hlstd{\\
\hllin{15\ }\ }\hlcom{/{*}{*}}\\
\hllin{16\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ array\ action\ filters}\\
\hllin{17\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{18\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{filters}\hlstd{}\hlopt{()}\\
\hllin{19\ }\hlstd{\ }\hlopt{\{}\\
\hllin{20\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ array}\hlstd{}\hlopt{(}\\
\hllin{21\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'accessControl'}\hlstd{}\hlopt{,\ }\hlstd{}\hlslc{//\ perform\ access\ control\ for\ CRUD\ }\Righttorque\\
\hllin{22\ }\hlslc{}\hlstd{\ \ \ }\hlslc{operations}\\
\hllin{23\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlslc{//'postOnly\ +\ delete',\ //\ we\ only\ allow\ deletion\ via\ POST\ }\Righttorque\\
\hllin{24\ }\hlslc{}\hlstd{\ \ \ }\hlslc{request}\\
\hllin{25\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{);}\\
\hllin{26\ }\hlstd{\ }\hlopt{\}}\\
\hllin{27\ }\hlstd{\\
\hllin{28\ }\ }\hlcom{/{*}{*}}\\
\hllin{29\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Specifies\ the\ access\ control\ rules.}\\
\hllin{30\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ This\ method\ is\ used\ by\ the\ 'accessControl'\ filter.}\\
\hllin{31\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ array\ access\ control\ rules}\\
\hllin{32\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{33\ }\\
\hllin{34\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{accessRules}\hlstd{}\hlopt{()}\\
\hllin{35\ }\hlstd{\ }\hlopt{\{}\\
\hllin{36\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ array}\hlstd{}\hlopt{(}\\
\hllin{37\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'allow'}\hlstd{}\hlopt{,}\hlstd{\ \ }\hlopt{}\hlstd{}\hlslc{//\ allow\ all\ users\ to\ perform\ 'index'\ and\ }\Righttorque\\
\hllin{38\ }\hlslc{}\hlstd{\ \ \ }\hlslc{'view'\ actions}\\
\hllin{39\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'actions'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'index'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'view'}\hlstd{}\hlopt{),}\\
\hllin{40\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'users'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'{*}'}\hlstd{}\hlopt{),}\\
\hllin{41\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{),}\\
\hllin{42\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'allow'}\hlstd{}\hlopt{,\ }\hlstd{}\hlslc{//\ allow\ authenticated\ user\ to\ perform\ }\Righttorque\\
\hllin{43\ }\hlslc{}\hlstd{\ \ \ }\hlslc{'create'\ and\ 'update'\ actions}\\
\hllin{44\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'actions'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'create'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'update'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'admin'}\hlstd{}\hlopt{),}\\
\hllin{45\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'expression'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlstr{'isset(}\hlipl{\$user}\hlstr{{-}$>$is\textunderscore project)\ \&\&\ }\hlipl{\$user}\hlstr{{-}$>$}\Righttorque\\
\hllin{46\ }\hlstr{}\hlstd{\ \ \ \ }\hlstr{is\textunderscore project'}\hlstd{}\hlopt{,}\\
\hllin{47\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{),}\\
\hllin{48\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'allow'}\hlstd{}\hlopt{,\ }\hlstd{}\hlslc{//\ allow\ admin\ user\ to\ perform\ 'admin'\ and\ }\Righttorque\\
\hllin{49\ }\hlslc{}\hlstd{\ \ \ }\hlslc{'delete'\ actions}\\
\hllin{50\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'actions'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'upload'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'admin'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'delete'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'create'}\hlstd{}\hlopt{,}\Righttorque\\
\hllin{51\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'update'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'import'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'export'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'pwd'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'reset'}\hlstd{}\hlopt{),}\\
\hllin{52\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'expression'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlstr{'isset(}\hlipl{\$user}\hlstr{{-}$>$is\textunderscore admin)\ \&\&\ }\hlipl{\$user}\hlstr{{-}$>$}\Righttorque\\
\hllin{53\ }\hlstr{}\hlstd{\ \ \ \ }\hlstr{is\textunderscore admin'}\hlstd{}\hlopt{,}\\
\hllin{54\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{),}\\
\hllin{55\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'deny'}\hlstd{}\hlopt{,}\hlstd{\ \ }\hlopt{}\hlstd{}\hlslc{//\ deny\ all\ users}\\
\hllin{56\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'users'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'{*}'}\hlstd{}\hlopt{),}\\
\hllin{57\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{),}\\
\hllin{58\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{);}\\
\hllin{59\ }\hlstd{\ }\hlopt{\}}\\
\hllin{60\ }\hlstd{\\
\hllin{61\ }\ }\hlcom{/{*}{*}}\\
\hllin{62\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Displays\ a\ particular\ model.}\\
\hllin{63\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @param\ integer\ \$id\ the\ ID\ of\ the\ model\ to\ be\ displayed}\\
\hllin{64\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{65\ }\\
\hllin{66\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionPwd}\hlstd{}\hlopt{()\ \{}\\
\hllin{67\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlstr{"actionPwd.$<$hr\ /$>$"}\hlstd{}\hlopt{;}\\
\hllin{68\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$hash1\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwd{password\textunderscore hash}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"admin"}\hlstd{}\hlopt{,\ }\hlstd{PASSWORD\textunderscore DEFAULT}\hlopt{);}\\
\hllin{69\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$hash2\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwd{password\textunderscore hash}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"123456a"}\hlstd{}\hlopt{,\ }\hlstd{PASSWORD\textunderscore DEFAULT}\hlopt{);}\\
\hllin{70\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwd{var\textunderscore dump}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$hash1}\hlstd{}\hlopt{);}\\
\hllin{71\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwd{var\textunderscore dump}\hlstd{}\hlopt{(}\hlstd{Yii}\hlopt{::}\hlstd{}\hlkwd{app}\hlstd{}\hlopt{(){-}$>$}\hlstd{user}\hlopt{{-}$>$}\hlstd{id}\hlopt{);}\\
\hllin{72\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlkwc{\$hash1}\hlstd{}\hlopt{.}\hlstd{}\hlstr{"$<$hr\ /$>$"}\hlstd{}\hlopt{;}\\
\hllin{73\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlkwc{\$hash2}\hlstd{}\hlopt{.}\hlstd{}\hlstr{"$<$hr\ /$>$"}\hlstd{}\hlopt{;}\\
\hllin{74\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlkwd{password\textunderscore verify}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"123456a"}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$hash1}\hlstd{}\hlopt{);}\\
\hllin{75\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlkwd{password\textunderscore verify}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"123456a"}\hlstd{}\hlopt{,}\hlstd{}\hlkwc{\$hash2}\hlstd{}\hlopt{);}\\
\hllin{76\ }\hlstd{\ }\hlopt{\}}\\
\hllin{77\ }\hlstd{\\
\hllin{78\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionView}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{)}\\
\hllin{79\ }\hlstd{\ }\hlopt{\{}\\
\hllin{80\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{render}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'view'}\hlstd{}\hlopt{,}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{81\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'model'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{loadModel}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{),}\\
\hllin{82\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{));}\\
\hllin{83\ }\hlstd{\ }\hlopt{\}}\\
\hllin{84\ }\hlstd{\\
\hllin{85\ }\ }\hlkwa{private\ function\ }\hlstd{}\hlkwd{setModelPeoples}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{)\ \{}\\
\hllin{86\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'execute\textunderscore peoples'}\hlstd{}\hlopt{{]}))}\\
\hllin{87\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{executePeoples}\hlopt{=}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\Righttorque\\
\hllin{88\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'execute\textunderscore peoples'}\hlstd{}\hlopt{{]};}\\
\hllin{89\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'liability\textunderscore peoples'}\hlstd{}\hlopt{{]}))}\\
\hllin{90\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{liabilityPeoples}\hlopt{=}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\Righttorque\\
\hllin{91\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'liability\textunderscore peoples'}\hlstd{}\hlopt{{]};}\\
\hllin{92\ }\hlstd{\ }\hlopt{\}}\\
\hllin{93\ }\hlstd{\ }\hlcom{/{*}{*}}\\
\hllin{94\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Creates\ a\ new\ model.}\\
\hllin{95\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ If\ creation\ is\ successful,\ the\ browser\ will\ be\ }\Righttorque\\
\hllin{96\ }\hlcom{}\hlstd{\ \ }\hlcom{redirected\ to\ the\ 'view'\ page.}\\
\hllin{97\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{98\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionCreate}\hlstd{}\hlopt{()}\\
\hllin{99\ }\hlstd{\ }\hlopt{\{}\\
\hllin{100\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{new\ }\hlstd{Project}\hlopt{;}\\
\hllin{101\ }\hlstd{\\
\hllin{102\ }}\hlstd{\ \ }\hlstd{}\hlslc{//\ Uncomment\ the\ following\ line\ if\ AJAX\ validation\ is\ }\Righttorque\\
\hllin{103\ }\hlslc{}\hlstd{\ \ }\hlslc{needed}\\
\hllin{104\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlslc{//\ \$this{-}$>$performAjaxValidation(\$model);}\\
\hllin{105\ }\hlstd{\\
\hllin{106\ }}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}))}\\
\hllin{107\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\{}\\
\hllin{108\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{attributes}\hlopt{=}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]};}\\
\hllin{109\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlslc{//\$model{-}$>$executePeoples=explode(',',\$\textunderscore POST{[}'Project'{]}{[}}\Righttorque\\
\hllin{110\ }\hlslc{}\hlstd{\ \ \ }\hlslc{'execute\textunderscore peoples'{]});}\\
\hllin{111\ }\hlstd{}\hlstd{\ \ \ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{setModelPeoples}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{);}\\
\hllin{112\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$\textunderscore POST{[}'Project'{]}{[}'execute\textunderscore peoples'{]});}\\
\hllin{113\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$model{-}$>$execute\textunderscore peoples);}\\
\hllin{114\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$\textunderscore POST{[}'Project'{]});}\\
\hllin{115\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{save}\hlstd{}\hlopt{())\ \{}\\
\hllin{116\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{redirect}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'view'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'id'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{));}\\
\hllin{117\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{\\
\hllin{118\ }}\hlstd{\ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$model{-}$>$attributes);}\\
\hllin{119\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{120\ }\hlstd{\\
\hllin{121\ }}\hlstd{\ \ }\hlstd{}\hlopt{\}}\\
\hllin{122\ }\hlstd{\\
\hllin{123\ }}\hlstd{\ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{render}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'create'}\hlstd{}\hlopt{,}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{124\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'model'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{,}\\
\hllin{125\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{));}\\
\hllin{126\ }\hlstd{\ }\hlopt{\}}\\
\hllin{127\ }\hlstd{\\
\hllin{128\ }\ }\hlcom{/{*}{*}}\\
\hllin{129\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Updates\ a\ particular\ model.}\\
\hllin{130\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ If\ update\ is\ successful,\ the\ browser\ will\ be\ redirected\ }\Righttorque\\
\hllin{131\ }\hlcom{}\hlstd{\ \ }\hlcom{to\ the\ 'view'\ page.}\\
\hllin{132\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @param\ integer\ \$id\ the\ ID\ of\ the\ model\ to\ be\ updated}\\
\hllin{133\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{134\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionUpdate}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{)}\\
\hllin{135\ }\hlstd{\ }\hlopt{\{}\\
\hllin{136\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{loadModel}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{);}\\
\hllin{137\ }\hlstd{\\
\hllin{138\ }}\hlstd{\ \ }\hlstd{}\hlslc{//\ Uncomment\ the\ following\ line\ if\ AJAX\ validation\ is\ }\Righttorque\\
\hllin{139\ }\hlslc{}\hlstd{\ \ }\hlslc{needed}\\
\hllin{140\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlslc{//\ \$this{-}$>$performAjaxValidation(\$model);}\\
\hllin{141\ }\hlstd{\\
\hllin{142\ }}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}))}\\
\hllin{143\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\{}\\
\hllin{144\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{attributes}\hlopt{=}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]};}\\
\hllin{145\ }\hlstd{}\hlstd{\ \ \ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{setModelPeoples}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{);}\\
\hllin{146\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{scenario}\hlopt{=}\hlstd{}\hlstr{'update'}\hlstd{}\hlopt{;}\\
\hllin{147\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{save}\hlstd{}\hlopt{())}\\
\hllin{148\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{redirect}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'view'}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'id'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{));}\\
\hllin{149\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\}}\\
\hllin{150\ }\hlstd{\\
\hllin{151\ }}\hlstd{\ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{render}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'update'}\hlstd{}\hlopt{,}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{152\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'model'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{,}\\
\hllin{153\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{));}\\
\hllin{154\ }\hlstd{\ }\hlopt{\}}\\
\hllin{155\ }\hlstd{\\
\hllin{156\ }\ }\hlcom{/{*}{*}}\\
\hllin{157\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Deletes\ a\ particular\ model.}\\
\hllin{158\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ If\ deletion\ is\ successful,\ the\ browser\ will\ be\ }\Righttorque\\
\hllin{159\ }\hlcom{}\hlstd{\ \ }\hlcom{redirected\ to\ the\ 'admin'\ page.}\\
\hllin{160\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @param\ integer\ \$id\ the\ ID\ of\ the\ model\ to\ be\ deleted}\\
\hllin{161\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{162\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionDelete}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{)}\\
\hllin{163\ }\hlstd{\ }\hlopt{\{}\\
\hllin{164\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{loadModel}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{){-}$>$}\hlstd{}\hlkwd{delete}\hlstd{}\hlopt{();}\\
\hllin{165\ }\hlstd{\\
\hllin{166\ }}\hlstd{\ \ }\hlstd{}\hlslc{//\ if\ AJAX\ request\ (triggered\ by\ deletion\ via\ admin\ grid\ }\Righttorque\\
\hllin{167\ }\hlslc{}\hlstd{\ \ }\hlslc{view),\ we\ should\ not\ redirect\ the\ browser}\\
\hllin{168\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(!}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'ajax'}\hlstd{}\hlopt{{]}))}\\
\hllin{169\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{redirect}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'returnUrl'}\hlstd{}\hlopt{{]})\ }\hlstd{?\ }\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\Righttorque\\
\hllin{170\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'returnUrl'}\hlstd{}\hlopt{{]}\ :\ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'admin'}\hlstd{}\hlopt{));}\\
\hllin{171\ }\hlstd{\ }\hlopt{\}}\\
\hllin{172\ }\hlstd{\\
\hllin{173\ }\ }\hlcom{/{*}{*}}\\
\hllin{174\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Lists\ all\ models.}\\
\hllin{175\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{176\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionIndex}\hlstd{}\hlopt{()}\\
\hllin{177\ }\hlstd{\ }\hlopt{\{}\\
\hllin{178\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\hlstd{CDbCriteria}\hlopt{;}\\
\hllin{179\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$criteria}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{addCondition}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'is\textunderscore school!=1'}\hlstd{}\hlopt{);}\\
\hllin{180\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$dataProvider}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{new\ }\hlstd{}\hlkwd{CActiveDataProvider}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{,}\\
\hllin{181\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'sort'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{182\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'defaultOrder'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{183\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore intl'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{184\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore NSF'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{185\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore 973'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{186\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore 863'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{187\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore is\textunderscore NKTRD'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{188\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore major'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{189\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore provincial'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{190\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore city'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{191\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'is\textunderscore enterprise'}\hlstd{}\hlopt{=$>$}\hlstd{true}\hlopt{,}\\
\hllin{192\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'start\textunderscore date'}\hlstd{\ }\hlopt{=$>$\ }\hlstd{true}\hlopt{,}\\
\hllin{193\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{),}\\
\hllin{194\ }\hlstd{\\
\hllin{195\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{),}\\
\hllin{196\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'pagination'}\hlstd{}\hlopt{=$>$}\hlstd{false}\hlopt{,}\\
\hllin{197\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'criteria'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$criteria}\\
\hllin{198\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{));}\\
\hllin{199\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{render}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'index'}\hlstd{}\hlopt{,}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{200\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'dataProvider'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$dataProvider}\hlstd{}\hlopt{,}\\
\hllin{201\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{));}\\
\hllin{202\ }\hlstd{\ }\hlopt{\}}\\
\hllin{203\ }\hlstd{\\
\hllin{204\ }\ }\hlcom{/{*}{*}}\\
\hllin{205\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Manages\ all\ models.}\\
\hllin{206\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{207\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionAdmin}\hlstd{}\hlopt{()}\\
\hllin{208\ }\hlstd{\ }\hlopt{\{}\\
\hllin{209\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{new\ }\hlstd{}\hlkwd{Project}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'search'}\hlstd{}\hlopt{);}\\
\hllin{210\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{unsetAttributes}\hlstd{}\hlopt{();}\hlstd{\ \ }\hlopt{}\hlstd{}\hlslc{//\ clear\ any\ default\ values}\\
\hllin{211\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}))\ \{}\\
\hllin{212\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{attributes}\hlopt{=}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]};}\\
\hllin{213\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore intl'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{214\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore intl}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{215\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{216\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore national'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{217\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore national}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{218\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{219\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore provincial'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{220\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore provincial}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{221\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{222\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore school'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{223\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore school}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{224\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{225\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore city'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{226\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore city}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{227\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{228\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore enterprise'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{229\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore enterprise}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{230\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{231\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore NSF'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{232\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NSF}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{233\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{234\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore 973'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{235\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 973}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{236\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{237\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore 863'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{238\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 863}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{239\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{240\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore NKTRD'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{241\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NKTRD}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{242\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{243\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore DFME'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{244\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore DFME}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{245\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{246\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'Project'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'is\textunderscore major'}\hlstd{}\hlopt{{]}==}\hlstd{}\hlstr{'0'}\hlstd{}\hlopt{)\ \{}\\
\hllin{247\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore major}\hlopt{=}\hlstd{}\hlstr{""}\hlstd{}\hlopt{;}\\
\hllin{248\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{249\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(!}\hlstd{}\hlkwa{empty}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'People'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'execute\textunderscore id'}\hlstd{}\hlopt{{]}))\{}\\
\hllin{250\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{=}\hlstd{People}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{findByPk}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'People'}\hlstd{}\hlopt{{]}{[}}\Righttorque\\
\hllin{251\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'execute\textunderscore id'}\hlstd{}\hlopt{{]});}\\
\hllin{252\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{searchExecutePeople}\hlopt{=}\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{;}\\
\hllin{253\ }\hlstd{\\
\hllin{254\ }}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{255\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(!}\hlstd{}\hlkwa{empty}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'People'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'liability\textunderscore id'}\hlstd{}\hlopt{{]}))\{}\\
\hllin{256\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{=}\hlstd{People}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{findByPk}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore GET}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'People'}\hlstd{}\hlopt{{]}{[}}\Righttorque\\
\hllin{257\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlstr{'liability\textunderscore id'}\hlstd{}\hlopt{{]});}\\
\hllin{258\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{{-}$>$}\hlstd{searchExecutePeople}\hlopt{=}\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{;}\\
\hllin{259\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{260\ }\hlstd{}\hlstd{\ \ \ }\hlstd{\\
\hllin{261\ }}\hlstd{\ \ }\hlstd{}\hlopt{\}}\\
\hllin{262\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$model{-}$>$execute\textunderscore peoples);}\\
\hllin{263\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{render}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'admin'}\hlstd{}\hlopt{,}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\\
\hllin{264\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlstr{'model'}\hlstd{}\hlopt{=$>$}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{,}\\
\hllin{265\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{));}\\
\hllin{266\ }\hlstd{\ }\hlopt{\}}\\
\hllin{267\ }\hlstd{\\
\hllin{268\ }\ }\hlcom{/{*}{*}}\\
\hllin{269\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Returns\ the\ data\ model\ based\ on\ the\ primary\ key\ given\ in\ }\Righttorque\\
\hllin{270\ }\hlcom{}\hlstd{\ \ }\hlcom{the\ GET\ variable.}\\
\hllin{271\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ If\ the\ data\ model\ is\ not\ found,\ an\ HTTP\ exception\ will\ }\Righttorque\\
\hllin{272\ }\hlcom{}\hlstd{\ \ }\hlcom{be\ raised.}\\
\hllin{273\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @param\ integer\ \$id\ the\ ID\ of\ the\ model\ to\ be\ loaded}\\
\hllin{274\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @return\ Project\ the\ loaded\ model}\\
\hllin{275\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @throws\ CHttpException}\\
\hllin{276\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{277\ }\ }\hlkwa{public\ function\ }\hlstd{}\hlkwd{loadModel}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{)}\\
\hllin{278\ }\hlstd{\ }\hlopt{\{}\\
\hllin{279\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{=}\hlstd{Project}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{findByPk}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$id}\hlstd{}\hlopt{);}\\
\hllin{280\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{===}\hlstd{null}\hlopt{)}\\
\hllin{281\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{throw\ new\ }\hlstd{}\hlkwd{CHttpException}\hlstd{}\hlopt{(}\hlstd{}\hlnum{404}\hlstd{}\hlopt{,}\hlstd{}\hlstr{'The\ requested\ page\ does\ not\ }\Righttorque\\
\hllin{282\ }\hlstr{}\hlstd{\ \ \ }\hlstr{exist.'}\hlstd{}\hlopt{);}\\
\hllin{283\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{;}\\
\hllin{284\ }\hlstd{\ }\hlopt{\}}\\
\hllin{285\ }\hlstd{\\
\hllin{286\ }\ }\hlcom{/{*}{*}}\\
\hllin{287\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ Performs\ the\ AJAX\ validation.}\\
\hllin{288\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}\ @param\ Project\ \$model\ the\ model\ to\ be\ validated}\\
\hllin{289\ }\hlcom{}\hlstd{\ \ }\hlcom{{*}/}\hlstd{\\
\hllin{290\ }\ }\hlkwa{protected\ function\ }\hlstd{}\hlkwd{performAjaxValidation}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{)}\\
\hllin{291\ }\hlstd{\ }\hlopt{\{}\\
\hllin{292\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'ajax'}\hlstd{}\hlopt{{]})\ \&\&\ }\hlstd{}\hlkwc{\$\textunderscore POST}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'ajax'}\hlstd{}\hlopt{{]}===}\hlstd{}\hlstr{'project{-}}\Righttorque\\
\hllin{293\ }\hlstr{}\hlstd{\ \ }\hlstr{form'}\hlstd{}\hlopt{)}\\
\hllin{294\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\{}\\
\hllin{295\ }\hlstd{}\hlstd{\ \ \ }\hlstd{}\hlkwa{echo\ }\hlstd{CActiveForm}\hlopt{::}\hlstd{}\hlkwd{validate}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$model}\hlstd{}\hlopt{);}\\
\hllin{296\ }\hlstd{}\hlstd{\ \ \ }\hlstd{Yii}\hlopt{::}\hlstd{}\hlkwd{app}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{end}\hlstd{}\hlopt{();}\\
\hllin{297\ }\hlstd{}\hlstd{\ \ }\hlstd{}\hlopt{\}}\\
\hllin{298\ }\hlstd{\ }\hlopt{\}}\\
\hllin{299\ }\hlstd{\\
\hllin{300\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionUpload}\hlstd{}\hlopt{()\ \{}\\
\hllin{301\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{set\textunderscore time\textunderscore limit}\hlstd{}\hlopt{(}\hlstd{}\hlnum{50}\hlstd{}\hlopt{);}\\
\hllin{302\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{isset}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore FILES}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'spreedSheet'}\hlstd{}\hlopt{{]})\ \&\&\ !}\hlstd{}\hlkwa{empty}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$\textunderscore FILES}\hlstd{}\hlopt{{[}}\Righttorque\\
\hllin{303\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlstr{'spreedSheet'}\hlstd{}\hlopt{{]}))\ \{}\\
\hllin{304\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$path\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwc{\$\textunderscore FILES}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'spreedSheet'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'tmp\textunderscore name'}\hlstd{}\hlopt{{]};}\\
\hllin{305\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlkwc{\$\textunderscore FILES}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'spreedSheet'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'name'}\hlstd{}\hlopt{{]}.}\hlstd{}\hlstr{"$<$hr\ /$>$"}\hlstd{}\hlopt{;}\\
\hllin{306\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlkwc{\$\textunderscore FILES}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'spreedSheet'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'type'}\hlstd{}\hlopt{{]}.}\hlstd{}\hlstr{"$<$hr\ /$>$"}\hlstd{}\hlopt{;}\\
\hllin{307\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlkwc{\$\textunderscore FILES}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'spreedSheet'}\hlstd{}\hlopt{{]}{[}}\hlstd{}\hlstr{'tmp\textunderscore name'}\hlstd{}\hlopt{{]}.}\hlstd{}\hlstr{"$<$hr\ /$>$"}\hlstd{}\hlopt{;}\\
\hllin{308\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{saveXlsToDb}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$path}\hlstd{}\hlopt{))\{}\\
\hllin{309\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{echo\ }\hlstd{}\hlstr{'function\ actionUpload()\ succeeded.$<$hr\ }\Righttorque\\
\hllin{310\ }\hlstr{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstr{/$>$'}\hlstd{}\hlopt{;}\\
\hllin{311\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{redirect}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'index'}\hlstd{}\hlopt{));}\\
\hllin{312\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{313\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{314\ }\hlstd{\\
\hllin{315\ }\\
\hllin{316\ }}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$this}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{render}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'upload'}\hlstd{}\hlopt{);}\\
\hllin{317\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{318\ }\hlstd{\\
\hllin{319\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{actionReset}\hlstd{}\hlopt{()\ \{}\\
\hllin{320\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{Project}\hlopt{::}\hlstd{}\hlkwd{model}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{deleteAll}\hlstd{}\hlopt{();}\\
\hllin{321\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{322\ }\hlstd{\\
\hllin{323\ }\\
\hllin{324\ }\\
\hllin{325\ }\\
\hllin{326\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{protected\ function\ }\hlstd{}\hlkwd{saveXlsToDb}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$xlsPath}\hlstd{}\hlopt{)\ \{}\\
\hllin{327\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$projects\ }\hlstd{}\hlopt{=\ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{xlsToArray}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$xlsPath}\hlstd{}\hlopt{);}\\
\hllin{328\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{saveXlsArrayToDb}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$projects}\hlstd{}\hlopt{);}\\
\hllin{329\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{330\ }\hlstd{\\
\hllin{331\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{xlsToArray}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$path}\hlstd{}\hlopt{)}\\
\hllin{332\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\{}\\
\hllin{333\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{Yii}\hlopt{::}\hlstd{}\hlkwd{trace}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"start\ of\ loading"}\hlstd{}\hlopt{,}\hlstd{}\hlstr{"actionTestXls()"}\hlstd{}\hlopt{);}\\
\hllin{334\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$reader\ }\hlstd{}\hlopt{=\ }\hlstd{PHPExcel\textunderscore IOFactory}\hlopt{::}\hlstd{}\hlkwd{createReader}\hlstd{}\hlopt{(}\hlstd{}\hlstr{'Excel5'}\hlstd{}\hlopt{);}\\
\hllin{335\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$reader}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{setReadDataOnly}\hlstd{}\hlopt{(}\hlstd{true}\hlopt{);}\\
\hllin{336\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$objPHPExcel\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwc{\$reader}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{load}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$path}\hlstd{}\hlopt{);}\\
\hllin{337\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{Yii}\hlopt{::}\hlstd{}\hlkwd{trace}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"end\ of\ loading"}\hlstd{}\hlopt{,}\hlstd{}\hlstr{"actionTestXls()"}\hlstd{}\hlopt{);}\\
\hllin{338\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{Yii}\hlopt{::}\hlstd{}\hlkwd{trace}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"start\ of\ reading"}\hlstd{}\hlopt{,}\hlstd{}\hlstr{"actionTestXls()"}\hlstd{}\hlopt{);}\\
\hllin{339\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$dataArray\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwc{\$objPHPExcel}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{getActiveSheet}\hlstd{}\hlopt{(){-}$>$}\hlstd{}\hlkwd{toArray}\hlstd{}\hlopt{(}\Righttorque\\
\hllin{340\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{null}\hlopt{,}\hlstd{true}\hlopt{,}\hlstd{true}\hlopt{);}\\
\hllin{341\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{Yii}\hlopt{::}\hlstd{}\hlkwd{trace}\hlstd{}\hlopt{(}\hlstd{}\hlstr{"end\ of\ reading"}\hlstd{}\hlopt{,}\hlstd{}\hlstr{"actionTestXls()"}\hlstd{}\hlopt{);}\\
\hllin{342\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwd{array\textunderscore shift}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$dataArray}\hlstd{}\hlopt{);}\\
\hllin{343\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$dataArray);}\\
\hllin{344\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlkwc{\$dataArray}\hlstd{}\hlopt{;}\\
\hllin{345\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{346\ }\hlstd{\\
\hllin{347\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{private\ function\ }\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$yesno}\hlstd{}\hlopt{)\ \{}\\
\hllin{348\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$yesno}\hlstd{}\hlopt{==}\hlstd{}\hlstr{'是'}\hlstd{}\hlopt{)\ \{}\\
\hllin{349\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlnum{1}\hlstd{}\hlopt{;}\\
\hllin{350\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\hlstd{}\hlkwa{else\ if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$yesno}\hlstd{}\hlopt{==}\hlstd{}\hlstr{'否'}\hlstd{}\hlopt{)\{}\\
\hllin{351\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlnum{0}\hlstd{}\hlopt{;}\\
\hllin{352\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{353\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{}\hlnum{0}\hlstd{}\hlopt{;}\\
\hllin{354\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{355\ }\hlstd{\\
\hllin{356\ }\\
\hllin{357\ }\\
\hllin{358\ }}\hlstd{\ \ \ \ }\hlstd{}\hlkwa{public\ function\ }\hlstd{}\hlkwd{saveXlsArrayToDb}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$projects}\hlstd{}\hlopt{)}\\
\hllin{359\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\{}\\
\hllin{360\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$connection}\hlstd{}\hlopt{=}\hlstd{Yii}\hlopt{::}\hlstd{}\hlkwd{app}\hlstd{}\hlopt{(){-}$>$}\hlstd{db}\hlopt{;}\\
\hllin{361\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$projects);}\\
\hllin{362\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{foreach}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$projects\ }\hlstd{}\hlkwa{as\ }\hlstd{}\hlkwc{\$k\ }\hlstd{}\hlopt{=$>$\ }\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{)\ \{}\\
\hllin{363\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$k);}\\
\hllin{364\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$p);}\\
\hllin{365\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$k}\hlstd{}\hlopt{$<$}\hlstd{}\hlnum{2}\hlstd{}\hlopt{)\ }\hlstd{}\hlkwa{continue}\hlstd{}\hlopt{;}\\
\hllin{366\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\hlstd{Project}\hlopt{;}\\
\hllin{367\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{name}\hlopt{=}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{0}\hlstd{}\hlopt{{]};}\\
\hllin{368\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{number}\hlopt{=}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{1}\hlstd{}\hlopt{{]};}\\
\hllin{369\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{fund\textunderscore number}\hlopt{=}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{2}\hlstd{}\hlopt{{]};}\\
\hllin{370\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore intl}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{3}\hlstd{}\hlopt{{]});}\\
\hllin{371\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore national}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\Righttorque\\
\hllin{372\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlnum{4}\hlstd{}\hlopt{{]});}\\
\hllin{373\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore provincial}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\Righttorque\\
\hllin{374\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{5}\hlstd{}\hlopt{{]});}\\
\hllin{375\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore city}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{6}\hlstd{}\hlopt{{]});}\\
\hllin{376\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore school}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{7}\hlstd{}\hlopt{{]}}\Righttorque\\
\hllin{377\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{);}\\
\hllin{378\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore enterprise}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\Righttorque\\
\hllin{379\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{8}\hlstd{}\hlopt{{]});}\\
\hllin{380\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NSF}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{9}\hlstd{}\hlopt{{]});}\\
\hllin{381\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 973}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{10}\hlstd{}\hlopt{{]});}\\
\hllin{382\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore 863}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{11}\hlstd{}\hlopt{{]});}\\
\hllin{383\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore NKTRD}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{12}\hlstd{}\hlopt{{]}}\Righttorque\\
\hllin{384\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{);}\\
\hllin{385\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore DFME}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{13}\hlstd{}\hlopt{{]})}\Righttorque\\
\hllin{386\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{;}\\
\hllin{387\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{is\textunderscore major}\hlopt{=}\hlstd{self}\hlopt{::}\hlstd{}\hlkwd{convertYesNoToInt}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{14}\hlstd{}\hlopt{{]}}\Righttorque\\
\hllin{388\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{);}\\
\hllin{389\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{start\textunderscore date}\hlopt{=(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{16}\hlstd{}\hlopt{{]});}\\
\hllin{390\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{deadline\textunderscore date}\hlopt{=(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{17}\hlstd{}\hlopt{{]});}\\
\hllin{391\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{conclude\textunderscore date}\hlopt{=}\hlstd{}\hlkwa{empty}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{18}\hlstd{}\hlopt{{]})\ }\hlstd{?\ }\hlkwc{\$project}\hlstd{}\hlopt{{-}}\Righttorque\\
\hllin{392\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{$>$}\hlstd{deadline\textunderscore date\ }\hlopt{:\ }\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{18}\hlstd{}\hlopt{{]};}\\
\hllin{393\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{pass\textunderscore fund}\hlopt{=}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{19}\hlstd{}\hlopt{{]};}\\
\hllin{394\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//if(\$project{-}$>$save())\ \{}\\
\hllin{395\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();}\\
\hllin{396\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{for}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{=}\hlstd{}\hlnum{0}\hlstd{}\hlopt{;}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{$<$}\hlstd{}\hlnum{20}\hlstd{}\hlopt{;}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$i}\hlstd{+}\hlnum{1}\hlstd{}\hlopt{)\{}\\
\hllin{397\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{20}\hlstd{+}\hlkwc{\$i}\hlstd{}\hlopt{{]};}\\
\hllin{398\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{=}\hlstd{}\hlkwd{mysql\textunderscore real\textunderscore escape\textunderscore string}\hlstd{}\hlopt{(}\Righttorque\\
\hllin{399\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{);}\\
\hllin{400\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$sql}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'select\ id\ from\ tbl\textunderscore people\ where\ }\Righttorque\\
\hllin{401\ }\hlstr{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstr{name="'}\hlstd{}\hlopt{.}\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{.}\hlstd{}\hlstr{'";'}\hlstd{}\hlopt{;}\\
\hllin{402\ }\hlstd{\\
\hllin{403\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//\$testPeoples\ =\ People::model(){-}$>$find(}\Righttorque\\
\hllin{404\ }\hlslc{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlslc{'name="'.\$peopleName.'"');}\\
\hllin{405\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$testPeoples);}\\
\hllin{406\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$command}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$connection}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{createCommand}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$sql}\hlstd{}\hlopt{)}\Righttorque\\
\hllin{407\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{;}\\
\hllin{408\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$row}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$command}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{queryRow}\hlstd{}\hlopt{();}\\
\hllin{409\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$row}\hlstd{}\hlopt{)\ \{}\\
\hllin{410\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//dump(\$row);}\\
\hllin{411\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{{[}{]}=}\hlstd{}\hlkwc{\$row}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'id'}\hlstd{}\hlopt{{]};}\\
\hllin{412\ }\hlstd{\\
\hllin{413\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\hlstd{}\hlkwa{else\ }\hlstd{}\hlopt{\{}\\
\hllin{414\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//dump(\$row);}\\
\hllin{415\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$people\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\hlstd{People}\hlopt{;}\\
\hllin{416\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{name\ }\hlopt{=\ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{;}\\
\hllin{417\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{save}\hlstd{}\hlopt{())}\\
\hllin{418\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//dump(\$people{-}$>$id);}\\
\hllin{419\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{{[}{]}\ =\ }\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{;}\\
\hllin{420\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{421\ }\hlstd{\\
\hllin{422\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{423\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//if(!self::populatePeople(\$project,}\Righttorque\\
\hllin{424\ }\hlslc{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlslc{\$peoplesId))}\\
\hllin{425\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//}\hlstd{\ \ \ \ }\hlslc{return\ false;}\\
\hllin{426\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{executePeoples\ }\hlopt{=\ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{;}\\
\hllin{427\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{=}\hlstd{}\hlkwa{array}\hlstd{}\hlopt{();}\\
\hllin{428\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{for}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{=}\hlstd{}\hlnum{0}\hlstd{}\hlopt{;}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{$<$}\hlstd{}\hlnum{20}\hlstd{}\hlopt{;}\hlstd{}\hlkwc{\$i}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$i}\hlstd{+}\hlnum{1}\hlstd{}\hlopt{)\{}\\
\hllin{429\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$p}\hlstd{}\hlopt{{[}}\hlstd{}\hlnum{40}\hlstd{+}\hlkwc{\$i}\hlstd{}\hlopt{{]};}\\
\hllin{430\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{=}\hlstd{}\hlkwd{mysql\textunderscore real\textunderscore escape\textunderscore string}\hlstd{}\hlopt{(}\Righttorque\\
\hllin{431\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{);}\\
\hllin{432\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$sql}\hlstd{}\hlopt{=}\hlstd{}\hlstr{'select\ id\ from\ tbl\textunderscore people\ where\ }\Righttorque\\
\hllin{433\ }\hlstr{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstr{name="'}\hlstd{}\hlopt{.}\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{.}\hlstd{}\hlstr{'";'}\hlstd{}\hlopt{;}\\
\hllin{434\ }\hlstd{\\
\hllin{435\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//\$testPeoples\ =\ People::model(){-}$>$find(}\Righttorque\\
\hllin{436\ }\hlslc{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlslc{'name="'.\$peopleName.'"');}\\
\hllin{437\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$testPeoples);}\\
\hllin{438\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$command}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$connection}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{createCommand}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$sql}\hlstd{}\hlopt{)}\Righttorque\\
\hllin{439\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{;}\\
\hllin{440\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$row}\hlstd{}\hlopt{=}\hlstd{}\hlkwc{\$command}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{queryRow}\hlstd{}\hlopt{();}\\
\hllin{441\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$row}\hlstd{}\hlopt{)\ \{}\\
\hllin{442\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//dump(\$row);}\\
\hllin{443\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{{[}{]}=}\hlstd{}\hlkwc{\$row}\hlstd{}\hlopt{{[}}\hlstd{}\hlstr{'id'}\hlstd{}\hlopt{{]};}\\
\hllin{444\ }\hlstd{\\
\hllin{445\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\hlstd{}\hlkwa{else\ }\hlstd{}\hlopt{\{}\\
\hllin{446\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//dump(\$row);}\\
\hllin{447\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$people\ }\hlstd{}\hlopt{=\ }\hlstd{}\hlkwa{new\ }\hlstd{People}\hlopt{;}\\
\hllin{448\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{name\ }\hlopt{=\ }\hlstd{}\hlkwc{\$peopleName}\hlstd{}\hlopt{;}\\
\hllin{449\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{if}\hlstd{}\hlopt{(}\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{save}\hlstd{}\hlopt{())}\\
\hllin{450\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//dump(\$people{-}$>$id);}\\
\hllin{451\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{{[}{]}\ =\ }\hlstd{}\hlkwc{\$people}\hlstd{}\hlopt{{-}$>$}\hlstd{id}\hlopt{;}\\
\hllin{452\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{453\ }\hlstd{\\
\hllin{454\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{455\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{liabilityPeoples\ }\hlopt{=\ }\hlstd{}\hlkwc{\$peoplesId}\hlstd{}\hlopt{;}\\
\hllin{456\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlkwc{\$project}\hlstd{}\hlopt{{-}$>$}\hlstd{}\hlkwd{save}\hlstd{}\hlopt{();}\\
\hllin{457\ }\hlstd{\\
\hllin{458\ }}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//\}\ else\ \{}\\
\hllin{459\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//}\hlstd{\ \ \ \ }\hlslc{var\textunderscore dump(\ \$project{-}$>$getErrors());}\\
\hllin{460\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//var\textunderscore dump(\$project{-}$>$info);}\\
\hllin{461\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//}\hlstd{\ \ \ \ }\hlslc{return\ false;}\\
\hllin{462\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ \ \ \ \ }\hlstd{}\hlslc{//\}}\\
\hllin{463\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{464\ }\hlstd{}\hlstd{\ \ \ \ \ \ \ \ }\hlstd{}\hlkwa{return\ }\hlstd{true}\hlopt{;}\\
\hllin{465\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlopt{\}}\\
\hllin{466\ }\hlstd{}\\
\hllin{467\ }\\
\hllin{468\ }\\
\hllin{469\ }\hlopt{\}}\hlstd{}\\
\mbox{}
\normalfont
\normalsize

